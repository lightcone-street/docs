---
title: 'Orderbook Updates'
description: 'Real-time orderbook data stream'
---

## Overview

The `book_update` channel provides efficient orderbook updates:
1. **Initial snapshot** with full orderbook state on subscribe
2. **Delta updates** with changed price levels

All prices and sizes are returned as **decimal strings** (e.g., `"0.65"`, `"100.5"`) matching the REST API format.

## Subscribe

```json
{
  "method": "subscribe",
  "params": {
    "type": "book_update",
    "orderbook_ids": ["5BNoPgYe_CrhujZLf"]
  }
}
```

### Parameters

<ParamField path="orderbook_ids" type="string[]" required>
  Array of orderbook IDs to subscribe to. You can subscribe to multiple orderbooks with one request, up to a maximum of **100 per request**. To track more than 100 orderbooks, open additional concurrent WebSocket connections.
</ParamField>

## Messages

### Initial Snapshot

The first message contains the full orderbook state with `is_snapshot: true` and `seq: 1`:

```json
{
  "type": "book_update",
  "version": 0.1,
  "data": {
    "orderbook_id": "5BNoPgYe_CrhujZLf",
    "timestamp": "2026-01-09T20:43:24Z",
    "is_snapshot": true,
    "seq": 1,
    "bids": [
      {"side": "bid", "price": "0.650000", "size": "1.000000"},
      {"side": "bid", "price": "0.640000", "size": "2.000000"}
    ],
    "asks": [
      {"side": "ask", "price": "0.660000", "size": "1.500000"},
      {"side": "ask", "price": "0.670000", "size": "2.500000"}
    ]
  }
}
```

### Delta Updates

Subsequent messages contain only changed price levels with a sequence number:

```json
{
  "type": "book_update",
  "version": 0.1,
  "data": {
    "orderbook_id": "5BNoPgYe_CrhujZLf",
    "timestamp": "2026-01-09T20:43:24.050Z",
    "seq": 2,
    "bids": [
      {"side": "bid", "price": "0.650000", "size": "1.500000"},
      {"side": "bid", "price": "0.640000", "size": "0.000000"}
    ],
    "asks": [
      {"side": "ask", "price": "0.660000", "size": "2.000000"}
    ]
  }
}
```

## Maintaining Local State

Apply delta updates to your local orderbook:
- `is_snapshot: true` → Replace entire orderbook
- `size: "0.000000"` → Delete price level
- `size > 0` → Update or insert price level

<Warning>
**Sequence gaps mean missed messages.** If `seq` jumps (e.g., 2 → 5), reconnect to get a fresh snapshot.
</Warning>

## Unsubscribe

```json
{
  "method": "unsubscribe",
  "params": {
    "type": "book_update",
    "orderbook_ids": ["5BNoPgYe_CrhujZLf"]
  }
}
```
